<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 5.0.0 (20220707.1540)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="1398pt" height="1088pt"
 viewBox="0.00 0.00 1397.71 1087.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1083.8)">
<title>UmlClassDiagram</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1083.8 1393.71,-1083.8 1393.71,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="black" points="0,-569.5 0,-803.9 429.36,-803.9 429.36,-569.5 0,-569.5"/>
<text text-anchor="middle" x="214.68" y="-787.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="214.68" y="-770.5" font-family="Times,serif" font-size="14.00">IERC20</text>
<text text-anchor="middle" x="214.68" y="-753.7" font-family="Times,serif" font-size="14.00">IERC20.sol</text>
<polyline fill="none" stroke="black" points="0,-745.5 429.36,-745.5 "/>
<text text-anchor="start" x="8" y="-728.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="8" y="-712.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;totalSupply(): uint256</text>
<text text-anchor="start" x="8" y="-695.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;balanceOf(account: address): uint256</text>
<text text-anchor="start" x="8" y="-678.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;transfer(to: address, value: uint256): bool</text>
<text text-anchor="start" x="8" y="-661.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;allowance(owner: address, spender: address): uint256</text>
<text text-anchor="start" x="8" y="-644.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;approve(spender: address, value: uint256): bool</text>
<text text-anchor="start" x="8" y="-628.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;transferFrom(from: address, to: address, value: uint256): bool</text>
<text text-anchor="start" x="8" y="-611.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="8" y="-594.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Transfer(from: address, to: address, value: uint256)</text>
<text text-anchor="start" x="8" y="-577.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Approval(owner: address, spender: address, value: uint256)</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="black" points="447.58,-628.3 447.58,-745.1 637.78,-745.1 637.78,-628.3 447.58,-628.3"/>
<text text-anchor="middle" x="542.68" y="-728.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="542.68" y="-711.7" font-family="Times,serif" font-size="14.00">IOracle</text>
<text text-anchor="middle" x="542.68" y="-694.9" font-family="Times,serif" font-size="14.00">Insurance.sol</text>
<polyline fill="none" stroke="black" points="447.58,-686.7 637.78,-686.7 "/>
<text text-anchor="start" x="455.58" y="-670.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="455.58" y="-653.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getPremiumPrice(): uint256</text>
<text text-anchor="start" x="455.58" y="-636.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getClaimPrice(): uint256</text>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="black" points="131.24,-0.5 131.24,-427.7 954.12,-427.7 954.12,-0.5 131.24,-0.5"/>
<text text-anchor="middle" x="542.68" y="-411.1" font-family="Times,serif" font-size="14.00">Insurance</text>
<text text-anchor="middle" x="542.68" y="-394.3" font-family="Times,serif" font-size="14.00">Insurance.sol</text>
<polyline fill="none" stroke="black" points="131.24,-386.1 954.12,-386.1 "/>
<text text-anchor="start" x="139.24" y="-369.5" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="139.24" y="-352.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_activeMonthYear: mapping(uint64=&gt;mapping(uint256=&gt;mapping(uint256=&gt;bool)))</text>
<text text-anchor="start" x="139.24" y="-335.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="139.24" y="-319.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;medicalRecords: MedicalRecords</text>
<text text-anchor="start" x="139.24" y="-302.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;medicalToken: IERC20</text>
<text text-anchor="start" x="139.24" y="-285.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;priceOracle: IOracle</text>
<text text-anchor="start" x="139.24" y="-268.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;premiumAmount: uint256</text>
<text text-anchor="start" x="139.24" y="-251.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;claimAmount: uint256</text>
<text text-anchor="start" x="139.24" y="-235.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;owner: address</text>
<polyline fill="none" stroke="black" points="131.24,-226.9 954.12,-226.9 "/>
<text text-anchor="start" x="139.24" y="-210.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="139.24" y="-193.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;payPremium(nik: uint64, month: uint256, year: uint256)</text>
<text text-anchor="start" x="139.24" y="-176.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;isActive(nik: uint64, year: uint256, month: uint256): bool</text>
<text text-anchor="start" x="139.24" y="-159.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;claim(year: uint256, month: uint256, provider: address, nik: uint64, recordIndex: uint16)</text>
<text text-anchor="start" x="139.24" y="-143.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setPremiumAmount(newAmount: uint256) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="139.24" y="-126.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setClaimAmount(newClaimAmount: uint256) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="139.24" y="-109.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;withdrawTokens(amount: uint256) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="139.24" y="-92.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="139.24" y="-75.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PremiumPaid(user: address, year: uint256, month: uint256, amount: uint256)</text>
<text text-anchor="start" x="139.24" y="-59.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Claimed(user: address, year: uint256, month: uint256, claimAmount: uint256, provider: address, nik: uint64, recordIndex: uint16)</text>
<text text-anchor="start" x="139.24" y="-42.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SetPremium(oldAmount: uint256, newAmount: uint256)</text>
<text text-anchor="start" x="139.24" y="-25.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOwner()</text>
<text text-anchor="start" x="139.24" y="-8.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(_medicalTokenAddress: address, _oracleAddress: address, _medicalRecordContractAddress: address)</text>
</g>
<!-- 2&#45;&gt;0 -->
<g id="edge2" class="edge">
<title>2&#45;&gt;0</title>
<path fill="none" stroke="black" d="M394.28,-428.03C362.53,-473.57 330.01,-520.23 301.51,-561.12"/>
<polygon fill="black" stroke="black" points="298.52,-559.28 295.68,-569.49 304.27,-563.29 298.52,-559.28"/>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M542.68,-428.03C542.68,-496.68 542.68,-567.89 542.68,-618.01"/>
<polygon fill="black" stroke="black" points="539.18,-618.06 542.68,-628.06 546.18,-618.06 539.18,-618.06"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="black" points="656.16,-464.7 656.16,-908.7 1265.2,-908.7 1265.2,-464.7 656.16,-464.7"/>
<text text-anchor="middle" x="960.68" y="-892.1" font-family="Times,serif" font-size="14.00">MedicalRecords</text>
<text text-anchor="middle" x="960.68" y="-875.3" font-family="Times,serif" font-size="14.00">MedicalRecords.sol</text>
<polyline fill="none" stroke="black" points="656.16,-867.1 1265.2,-867.1 "/>
<text text-anchor="start" x="664.16" y="-850.5" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="664.16" y="-833.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;recordsByNIK: mapping(uint64=&gt;Record[])</text>
<text text-anchor="start" x="664.16" y="-816.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="664.16" y="-800.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;admin: address</text>
<text text-anchor="start" x="664.16" y="-783.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;allowedContract: address</text>
<text text-anchor="start" x="664.16" y="-766.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;authorizedProviders: mapping(address=&gt;bool)</text>
<polyline fill="none" stroke="black" points="656.16,-758.3 1265.2,-758.3 "/>
<text text-anchor="start" x="664.16" y="-741.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="664.16" y="-724.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setAllowedContract(contractAddress: address) &lt;&lt;onlyAdmin&gt;&gt;</text>
<text text-anchor="start" x="664.16" y="-708.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;authorizeProvider(provider: address) &lt;&lt;onlyAdmin&gt;&gt;</text>
<text text-anchor="start" x="664.16" y="-691.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeProvider(provider: address) &lt;&lt;onlyAdmin&gt;&gt;</text>
<text text-anchor="start" x="664.16" y="-674.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="664.16" y="-657.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RecordAdded(recordIndex: uint16, timestamp: uint256, isPaid: bool)</text>
<text text-anchor="start" x="664.16" y="-640.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ProviderAuthorized(provider: address)</text>
<text text-anchor="start" x="664.16" y="-624.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ProviderRemoved(provider: address)</text>
<text text-anchor="start" x="664.16" y="-607.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RecordPaymentUpdated(nik: uint64, recordIndex: uint16, isPaid: bool)</text>
<text text-anchor="start" x="664.16" y="-590.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyAdmin()</text>
<text text-anchor="start" x="664.16" y="-573.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyAuthorizedProvider()</text>
<text text-anchor="start" x="664.16" y="-556.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyAllowedContract()</text>
<text text-anchor="start" x="664.16" y="-540.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="664.16" y="-523.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addRecord(nik: uint64, encryptedData: string) &lt;&lt;onlyAuthorizedProvider&gt;&gt;</text>
<text text-anchor="start" x="664.16" y="-506.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateRecordPaymentStatus(nik: uint64, recordIndex: uint16, isPaid: bool) &lt;&lt;onlyAllowedContract&gt;&gt;</text>
<text text-anchor="start" x="664.16" y="-489.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getRecords(nik: uint64): Record[] &lt;&lt;onlyAuthorizedProvider&gt;&gt;</text>
<text text-anchor="start" x="664.16" y="-472.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getRecordCount(nik: uint64): uint256 &lt;&lt;onlyAuthorizedProvider&gt;&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge1" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="black" d="M731.81,-428.03C740.34,-437.63 748.91,-447.28 757.47,-456.92"/>
<polygon fill="black" stroke="black" points="755.08,-459.49 764.33,-464.64 760.31,-454.84 755.08,-459.49"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="black" points="892.23,-945.7 892.23,-1079.3 1029.13,-1079.3 1029.13,-945.7 892.23,-945.7"/>
<text text-anchor="middle" x="960.68" y="-1062.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="960.68" y="-1045.9" font-family="Times,serif" font-size="14.00">Record</text>
<text text-anchor="middle" x="960.68" y="-1029.1" font-family="Times,serif" font-size="14.00">MedicalRecords.sol</text>
<polyline fill="none" stroke="black" points="892.23,-1020.9 1029.13,-1020.9 "/>
<text text-anchor="start" x="900.23" y="-1004.3" font-family="Times,serif" font-size="14.00">encryptedData: string</text>
<text text-anchor="start" x="900.23" y="-987.5" font-family="Times,serif" font-size="14.00">provider: address</text>
<text text-anchor="start" x="900.23" y="-970.7" font-family="Times,serif" font-size="14.00">timestamp: uint256</text>
<text text-anchor="start" x="900.23" y="-953.9" font-family="Times,serif" font-size="14.00">isPaid: bool</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge5" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M954.35,-909.05C954.49,-918.22 954.66,-927.09 954.86,-935.52"/>
<polygon fill="black" stroke="black" points="951.36,-935.68 955.12,-945.58 958.36,-935.5 951.36,-935.68"/>
</g>
<!-- 4&#45;&gt;3 -->
<g id="edge4" class="edge">
<title>4&#45;&gt;3</title>
<path fill="none" stroke="black" d="M966.24,-945.58C966.46,-937.88 966.65,-929.73 966.81,-921.25"/>
<polygon fill="black" stroke="black" points="966.81,-921.05 962.91,-914.98 967.01,-909.05 970.91,-915.11 966.81,-921.05"/>
</g>
<!-- 6 -->
<g id="node6" class="node">
<title>6</title>
<polygon fill="#f2f2f2" stroke="black" points="971.66,-67.7 971.66,-360.5 1389.71,-360.5 1389.71,-67.7 971.66,-67.7"/>
<text text-anchor="middle" x="1180.68" y="-343.9" font-family="Times,serif" font-size="14.00">PriceOracle</text>
<text text-anchor="middle" x="1180.68" y="-327.1" font-family="Times,serif" font-size="14.00">PriceOracle.sol</text>
<polyline fill="none" stroke="black" points="971.66,-318.9 1389.71,-318.9 "/>
<text text-anchor="start" x="979.66" y="-302.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="979.66" y="-285.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;premiumPrice: uint256</text>
<text text-anchor="start" x="979.66" y="-268.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;claimPrice: uint256</text>
<text text-anchor="start" x="979.66" y="-251.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;owner: address</text>
<polyline fill="none" stroke="black" points="971.66,-243.7 1389.71,-243.7 "/>
<text text-anchor="start" x="979.66" y="-227.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="979.66" y="-210.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; null()</text>
<text text-anchor="start" x="979.66" y="-193.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getPremiumPrice(): uint256</text>
<text text-anchor="start" x="979.66" y="-176.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getClaimPrice(): uint256</text>
<text text-anchor="start" x="979.66" y="-159.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setPremiumPrice(newData: uint256)</text>
<text text-anchor="start" x="979.66" y="-143.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setClaimPrice(newData: uint256)</text>
<text text-anchor="start" x="979.66" y="-126.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="979.66" y="-109.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PremiumUpdated(oldData: uint256, newData: uint256)</text>
<text text-anchor="start" x="979.66" y="-92.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ClaimUpdated(oldData: uint256, newData: uint256)</text>
<text text-anchor="start" x="979.66" y="-75.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(initialPremiumPrice: uint256, initialClaimPrice: uint256)</text>
</g>
</g>
</svg>
